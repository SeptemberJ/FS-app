(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/receiveManagement/detail/index"],{"0747":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{ifNoWork:!1,fstatus:"",songhuoId:"",songhuono:"",supplier:"",dateTxt:"",listData:[]}},computed:a({},(0,i.mapState)({urlPre:function(e){return e.urlPre}})),onLoad:function(e){var t=JSON.parse(e.Info);this.fstatus=t.fstatus,this.songhuono=t.songhuono,this.supplier=t.providerfullname,this.dateTxt=t.dateTxt,this.songhuoId=t.id,this.getDetail(t.id)},methods:{getDetail:function(t){var n=this;e.showLoading({title:"加载中"}),e.request({url:this.urlPre+"/serReceiveDetailList?id="+t,data:{},success:function(t){switch(t.data.code){case 1:n.listData=t.data.receiveDetail.map(function(e){return e.receive_statusTXT=0==e.receive_status?"待收料":1==e.receive_status?"收料已审核":"收料待审核",e}),e.hideLoading();break;default:e.hideLoading(),e.showToast({image:"/static/images/attention.png",title:"服务器繁忙!"})}},fail:function(t){n.listData=[],console.log("request fail",t," at pages\\receiveManagement\\detail\\index.vue:91"),e.hideLoading(),e.showModal({content:"接口报错!",showCancel:!1})},complete:function(){}})},save:function(){if(this.ifNoWork)return!1;var e=[];this.listData.map(function(t){e.push({id:t.id,receivenum:t.receivenum})}),this.submit(e)},submit:function(t){var n=this;this.ifNoWork=!0,e.showLoading({title:"提交中"}),e.request({url:this.urlPre+"/updateReceivenum",method:"POST",data:{receivedetaillist:t},success:function(t){switch(t.data.code){case 1:e.hideLoading(),e.showToast({icon:"success",title:"收料成功!"}),setTimeout(function(){n.getDetail(n.songhuoId),n.ifNoWork=!1},1500);break;default:e.hideLoading(),n.ifNoWork=!1,e.showToast({image:"/static/images/attention.png",title:"服务器繁忙!"})}},fail:function(t){console.log("request fail",t," at pages\\receiveManagement\\detail\\index.vue:149"),e.hideLoading(),n.ifNoWork=!1,e.showModal({content:"接口报错!",showCancel:!1})},complete:function(){}})}}};t.default=u}).call(this,n("6e42")["default"])},"4d0a":function(e,t,n){"use strict";n.r(t);var i=n("ac72"),a=n("88d0");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("e106");var u=n("2877"),r=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},"88d0":function(e,t,n){"use strict";n.r(t);var i=n("0747"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},a82c:function(e,t,n){},ac72:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},e106:function(e,t,n){"use strict";var i=n("a82c"),a=n.n(i);a.a}},[["2a1d","common/runtime","common/vendor"]]]);